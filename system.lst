     1                                  ;常量
     2                                  %include "include/constant/index.nasm"
     1                              <1> ;常量
     2                              <1> 
     3                              <1> ;端口
     4                              <1> %include "include/constant/port.nasm"
     1                              <2> ;端口 EQU_IO
     2                              <2> 
     3                              <2> ;NAME                             ;VALUE
     4                              <2> 
     5                              <2> ;8237A DMA控制器1 DMA1 ［often used for transfers to floppies.］
     6                              <2> ;000-00F 8237 DMA controller:
     7                              <2> EQU_IO_DMA1_CHANNEL0_ADDR         equ 0x0000
     8                              <2> EQU_IO_DMA1_CHANNEL0_COUNT        equ 0x0001
     9                              <2> EQU_IO_DMA1_CHANNEL1_ADDR         equ 0x0002
    10                              <2> EQU_IO_DMA1_CHANNEL1_COUNT        equ 0x0003
    11                              <2> EQU_IO_DMA1_CHANNEL2_ADDR         equ 0x0004
    12                              <2> EQU_IO_DMA1_CHANNEL2_COUNT        equ 0x0005
    13                              <2> EQU_IO_DMA1_CHANNEL3_ADDR         equ 0x0006
    14                              <2> EQU_IO_DMA1_CHANNEL3_COUNT        equ 0x0007
    15                              <2> EQU_IO_DMA1_STATUS_COMMAND        equ 0x0008
    16                              <2> EQU_IO_DMA1_REQUEST               equ 0x0009
    17                              <2> EQU_IO_DMA1_MASK                  equ 0x000A
    18                              <2> EQU_IO_DMA1_MODE                  equ 0x000B
    19                              <2> EQU_IO_DMA1_CLEAR_MSB_LSB         equ 0x000C
    20                              <2> EQU_IO_DMA1_MASTR_CLR_TMP         equ 0x000D
    21                              <2> EQU_IO_DMA1_MASK_CLR              equ 0x000E
    22                              <2> EQU_IO_DMA1_MASK_MULTIPLE         equ 0x000F
    23                              <2> 
    24                              <2> ;010-01F 8237 DMA Controller (PS2 model 60 & 80), reserved (AT)
    25                              <2> 
    26                              <2> ;8259A PIC可编程中断控制器1 PIC1
    27                              <2> ;020-02F 8259A Master Programmable Interrupt Controller:
    28                              <2> EQU_IO_PIC1_COMMAND               equ 0x0020
    29                              <2> EQU_IO_PIC1_INTR_MASK             equ 0x0021
    30                              <2> 
    31                              <2> ;030-03F 8259A Slave Programmable Interrupt Controller (AT,PS2)
    32                              <2> 
    33                              <2> ;8253/8254|A 定时计数器 PIT
    34                              <2> ;040-05F 8253 or 8254 Programmable Interval Timer:
    35                              <2> EQU_IO_PIT_CHANNEL0_COUNT_DIV     equ 0x0040
    36                              <2> EQU_IO_PIT_CHANNEL1_RAM_COUNT     equ 0x0041
    37                              <2> EQU_IO_PIT_CHANNEL2_SPEAKER       equ 0x0042
    38                              <2> EQU_IO_PIT_MODE_CONTROL           equ 0x0043
    39                              <2> EQU_IO_PIT_PS2_EXT_TIMER          equ 0x0044
    40                              <2> EQU_IO_PIT_CHANNEL3_CONTROL       equ 0x0047
    41                              <2> 
    42                              <2> ;8255 可编程外围接口 PPI
    43                              <2> ;060-067 8255 Programmalbe Peripheral Interface (PC,XT,PCjr):
    44                              <2> EQU_IO_PPI_PORTA_KEYBOARD_IO      equ 0x0060
    45                              <2> EQU_IO_PPI_PORTB_OUTPUT           equ 0x0061
    46                              <2> EQU_IO_PPI_PORTC_INPUT            equ 0x0062
    47                              <2> EQU_IO_PPI_COMMAND_MODE_CONTROL   equ 0x0063
    48                              <2> 
    49                              <2> ;8042 键盘控制器 KC
    50                              <2> ;060-06f 8042 Keyboard Controller (AT,PS2):
    51                              <2> EQU_IO_KC_KEYBOARD_IO             equ 0x0060
    52                              <2> EQU_IO_KC_SYSTEM_CONTROL          equ 0x0061
    53                              <2> EQU_IO_KC_KEYBOARD_COMMAND_STATUS equ 0x0064
    54                              <2> 
    55                              <2> ;CMOS 访问CMOS RAM/实时时钟RTC（Real Time Clock)端口 CMOS
    56                              <2> ;070-07f CMOS:
    57                              <2> EQU_IO_CMOS_RTC_NMI               equ 0x0070
    58                              <2> EQU_IO_CMOS_RAM_DATA              equ 0x0071
    59                              <2> 
    60                              <2> ;DMA DMA页面寄存器 DMA
    61                              <2> ;080-090 DMA Page Registers:
    62                              <2> EQU_IO_DMA_MANUFACTURER_CHECK     equ 0x0080
    63                              <2> EQU_IO_DMA_CHANNEL2_ADDR_H4       equ 0x0081
    64                              <2> EQU_IO_DMA_CHANNEL3_ADDR_H4       equ 0x0082
    65                              <2> EQU_IO_DMA_CHANNEL1_ADDR_H4       equ 0x0083
    66                              <2> 
    67                              <2> ;POS 可编程选项 POS
    68                              <2> ;090-097 POS/Programmable Option Select (PS2):
    69                              <2> EQU_IO_POS_CACP                   equ 0x0090         ;中央仲裁控制
    70                              <2> EQU_IO_POS_CSF                    equ 0x0091         ;卡选项反馈
    71                              <2> EQU_IO_POS_SCAST                  equ 0x0092         ;系统控制和状态寄存器
    72                              <2> EQU_IO_POS_SBE                    equ 0x0094         ;主板设置寄存器
    73                              <2> EQU_IO_POS_R1                     equ 0x0095         ;保留位
    74                              <2> EQU_IO_POS_AE                     equ 0x0096         ;适配器设置寄存器
    75                              <2> EQU_IO_POS_R2                     equ 0x0097         ;保留位
    76                              <2> 
    77                              <2> ;8259A PIC可编程中断控制器2 PIC2
    78                              <2> ;0A0-0BF Second 8259 Programmalbe Interrupt Controller (AT,PS2):
    79                              <2> EQU_IO_PIC2_COMMAND               equ 0x00A0
    80                              <2> EQU_IO_PIC2_INTR_MASK             equ 0x00A1
    81                              <2> 
    82                              <2> ;8237A DMA控制器2 DMA2 [often used for soundblasters]
    83                              <2> ;0C0-0DF 8237 DMA Controller 2 (AT):
    84                              <2> EQU_IO_DMA2_PTG                   equ 0x00C0
    85                              <2> EQU_IO_DMA2_CHANNEL3_SELECTOR     equ 0x00C2
    86                              <2> 
    87                              <2> ;0E0-0EF Reserved
    88                              <2> 
    89                              <2> ;FPU 数学协处理器
    90                              <2> ;0F0-0FF Math Coprocessor (AT,PS2)
    91                              <2> 
    92                              <2> ;POS 可编程选项 POS
    93                              <2> ;100-10F POS Programmable Option Select (PS2):
    94                              <2> 
    95                              <2> ;系统I/O通道
    96                              <2> ;110-1EF System I/O channel
    97                              <2> 
    98                              <2> ;DISK 硬盘控制器 DISK1
    99                              <2> ;170-17F Fixed disk 1 (AT):
   100                              <2> EQU_IO_DISK1_DATA                 equ 0x0170
   101                              <2> EQU_IO_DISK1_ERR                  equ 0x0171
   102                              <2> EQU_IO_DISK1_SECTOR_COUNT         equ 0x0172
   103                              <2> EQU_IO_DISK1_SECTOR_NUM           equ 0x0173
   104                              <2> EQU_IO_DISK1_SYLINDER_LOW         equ 0x0174
   105                              <2> EQU_IO_DISK1_SYLINDER_HIGH        equ 0x0175
   106                              <2> EQU_IO_DISK1_DRIVE_HEADER         equ 0x0176
   107                              <2> EQU_IO_DISK1_STATUS               equ 0x0177
   108                              <2> 
   109                              <2> ;DISK 硬盘控制器 DISK0
   110                              <2> ;1F0-1FF Fixed disk 0 (AT):
   111                              <2> EQU_IO_DISK0_DATA                 equ 0x01F0
   112                              <2> EQU_IO_DISK0_ERR                  equ 0x01F1
   113                              <2> EQU_IO_DISK0_SECTOR_COUNT         equ 0x01F2
   114                              <2> EQU_IO_DISK0_SECTOR_NUM           equ 0x01F3
   115                              <2> EQU_IO_DISK0_SYLINDER_LOW         equ 0x01F4
   116                              <2> EQU_IO_DISK0_SYLINDER_HIGH        equ 0x01F5
   117                              <2> EQU_IO_DISK0_DRIVE_HEADER         equ 0x01F6
   118                              <2> EQU_IO_DISK0_STATUS               equ 0x01F7
   119                              <2> 
   120                              <2> ;游戏适配器
   121                              <2> ;200-20F Game Adapter
   122                              <2> 
   123                              <2> ;ECP 扩展卡接口 ECP
   124                              <2> ;210-217 Expansion Card Ports (XT):
   125                              <2> EQU_IO_ECP_DATA                   equ 0x0210
   126                              <2> EQU_IO_ECP_MADDR_CLR              equ 0x0211
   127                              <2> EQU_IO_ECP_LADDR                  equ 0x0212
   128                              <2> EQU_IO_ECP_EXPANSION_CONTROL      equ 0x0213
   129                              <2> EQU_IO_ECP_DATA2                  equ 0x0214
   130                              <2> EQU_IO_ECP_ADDR2                  equ 0x0215
   131                              <2> 
   132                              <2> ;保留
   133                              <2> ;21F Reserved
   134                              <2> 
   135                              <2> ;保留
   136                              <2> ;220-26F Reserved for I/O channel
   137                              <2> 
   138                              <2> ;PP 并口 PP2
   139                              <2> ;270-27F Third parallel port (see PARALLEL PORT):
   140                              <2> EQU_IO_PP2_DATA                   equ 0x0278
   141                              <2> EQU_IO_PP2_STATUS                 equ 0x0279
   142                              <2> EQU_IO_PP2_CONTROL                equ 0x027A
   143                              <2> 
   144                              <2> ;保留
   145                              <2> ;280-2AF Reserved for I/O channel
   146                              <2> 
   147                              <2> ;MSM58321RS时钟
   148                              <2> ;2A2-2A3 MSM58321RS clock
   149                              <2> 
   150                              <2> ;加强型EGA
   151                              <2> ;2B0-2DF Alternate EGA, or 3270 PC video (XT, AT)
   152                              <2> 
   153                              <2> ;加强型EGA
   154                              <2> ;2E0 Alternate EGA/VGA
   155                              <2> 
   156                              <2> ;GPIB适配器
   157                              <2> ;E1 GPIB Adapter (AT)
   158                              <2> 
   159                              <2> ;数据采集卡
   160                              <2> ;2E2-2E3 Data acquisition adapter (AT)
   161                              <2> 
   162                              <2> ;IBM保留
   163                              <2> ;2E8-2EF COM4 non PS2 UART (Reserved by IBM) (see UART)
   164                              <2> 
   165                              <2> ;保留
   166                              <2> ;2F0-2F7 Reserved
   167                              <2> 
   168                              <2> ;AA 第二串口 AA1
   169                              <2> ;2F8-2FF COM2 Second Asynchronous Adapter
   170                              <2> 
   171                              <2> ;原型实验卡
   172                              <2> ;300-31F Prototype Experimentation Card
   173                              <2> 
   174                              <2> ;HDC 硬盘控制器 HDC
   175                              <2> ;320-32F Hard Disk Controller (XT):
   176                              <2> EQU_IO_HDC_CONTROLLER_IO_SET      equ 0x0320
   177                              <2> EQU_IO_HDC_CONTROLLER_IO          equ 0x0321
   178                              <2> EQU_IO_HDC_GEN_CONT_SELECT        equ 0x0322
   179                              <2> EQU_IO_HDC_DMA_IMR                equ 0x0323
   180                              <2> EQU_IO_HDC_DISK_STATUS            equ 0x0324
   181                              <2> 
   182                              <2> ;保留
   183                              <2> ;330-33F Reserved for XT/370
   184                              <2> 
   185                              <2> ;340-35F Reserved for I/O channel
   186                              <2> 
   187                              <2> ;360-36F PC Network
   188                              <2> 
   189                              <2> ;FDC 软盘控制器 FDC1
   190                              <2> ;370-377 Floppy disk controller (except PCjr):
   191                              <2> EQU_IO_FDC1_DIGITAL_OUTPUT        equ 0x0372
   192                              <2> EQU_IO_FDC1_CONTROLLER_STATUS     equ 0x0374
   193                              <2> EQU_IO_FDC1_CONTROLLER_DATA1      equ 0x0375
   194                              <2> EQU_IO_FDC1_CONTROLLER_DATA2      equ 0x0376
   195                              <2> EQU_IO_FDC1_DIGITAL_INPUT         equ 0x0377
   196                              <2> 
   197                              <2> ;PP 第二并口打印机 PP1
   198                              <2> ;378-37F Second Parallel Printer (see PARALLEL PORT):
   199                              <2> EQU_IO_PP1_DATA                   equ 0x0378
   200                              <2> EQU_IO_PP1_STATUS                 equ 0x0379
   201                              <2> EQU_IO_PP1_CONTROL                equ 0x037A
   202                              <2> 
   203                              <2> ;SDLC 第二二进制同步数据适配器 SDLC1
   204                              <2> ;380-38F Secondary Binary Synchronous Data Link Control (SDLC) adapter:
   205                              <2> 
   206                              <2> ;集群适配器
   207                              <2> ;390-39F Cluster Adapter
   208                              <2> 
   209                              <2> ;SDLC 第一二进制同步数据适配器 SDLC0
   210                              <2> ;3A0-3AF Primary Binary Synchronous Data Link Control (SDLC) adapter:
   211                              <2> 
   212                              <2> ;6845 单色显示适配器 MDA
   213                              <2> ;3B0-3BF Monochrome Display Adapter (write only, see 6845):
   214                              <2> EQU_IO_MDA_A                      equ 0x03B0
   215                              <2> EQU_IO_MDA_B                      equ 0x03B1
   216                              <2> EQU_IO_MDA_C                      equ 0x03B2
   217                              <2> EQU_IO_MDA_D                      equ 0x03B3
   218                              <2> EQU_IO_MDA_E                      equ 0x03B4
   219                              <2> EQU_IO_MDA_F                      equ 0x03B5
   220                              <2> EQU_IO_MDA_G                      equ 0x03B6
   221                              <2> EQU_IO_MDA_H                      equ 0x03B7
   222                              <2> EQU_IO_MDA_CONTROL                equ 0x03B8
   223                              <2> EQU_IO_MDA_COLOR                  equ 0x03B9
   224                              <2> EQU_IO_MDA_STATUS                 equ 0x03BA
   225                              <2> EQU_IO_MDA_LIGHT_PEN              equ 0x03BB
   226                              <2> 
   227                              <2> ;PP 第一并口打印机 PP0
   228                              <2> ;3BC-3BF Primary Parallel Printer Adapter (see PARALLEL PORT):
   229                              <2> EQU_IO_PP0_DATA                   equ 0x03BC
   230                              <2> EQU_IO_PP0_STATUS                 equ 0x03BD
   231                              <2> EQU_IO_PP0_CONTROL                equ 0x03BE
   232                              <2> 
   233                              <2> ;VGA 显示适配器 VGA
   234                              <2> ;3C0-3CF EGA/VGA:
   235                              <2> EQU_IO_VGA_ATTR_SEQU              equ 0x03C0
   236                              <2> EQU_IO_VGA_VIDEO_ATTR             equ 0x03C1
   237                              <2> EQU_IO_VGA_INPUT_STATUS           equ 0x03C2
   238                              <2> EQU_IO_VGA_VIDEO_SUB_EN           equ 0x03C3
   239                              <2> EQU_IO_VGA_SEQU_INDEX             equ 0x03C4
   240                              <2> EQU_IO_VGA_SEQU                   equ 0x03C5
   241                              <2> EQU_IO_VGA_VIDEO_DAC_PEL_MASK     equ 0x03C6
   242                              <2> EQU_IO_VGA_VIDEO_DAC_STATE        equ 0x03C7
   243                              <2> EQU_IO_VGA_VIDEO_DAC_PEL_ADDR     equ 0x03C8
   244                              <2> EQU_IO_VGA_VIDEO_DAC              equ 0x03C9
   245                              <2> EQU_IO_VGA_GRAPHICS2_POS          equ 0x03CA
   246                              <2> EQU_IO_VGA_GRAPHICS1_POS          equ 0x03CC
   247                              <2> EQU_IO_VGA_FEATURE_CONTROL        equ 0x03CD
   248                              <2> EQU_IO_VGA_GRAPHICS_INDEX         equ 0x03CE
   249                              <2> EQU_IO_VGA_OTHER_GRAPHICS         equ 0x03CF
   250                              <2> 
   251                              <2> ;6845 彩色图形显示器适配器 CGMA
   252                              <2> ;3D0-3DF Color Graphics Monitor Adapter (ports 3D0-3DB are write only, see 6845):
   253                              <2> EQU_IO_CGMA_A                     equ 0x03D0
   254                              <2> EQU_IO_CGMA_B                     equ 0x03D1
   255                              <2> EQU_IO_CGMA_C                     equ 0x03D2
   256                              <2> EQU_IO_CGMA_D                     equ 0x03D3
   257                              <2> EQU_IO_CGMA_E                     equ 0x03D4
   258                              <2> EQU_IO_CGMA_F                     equ 0x03D5
   259                              <2> EQU_IO_CGMA_G                     equ 0x03D6
   260                              <2> EQU_IO_CGMA_H                     equ 0x03D7
   261                              <2> EQU_IO_CGMA_CONTROL               equ 0x03D8
   262                              <2> EQU_IO_CGMA_COLOR                 equ 0x03D9
   263                              <2> EQU_IO_CGMA_STATUS                equ 0x03DA
   264                              <2> EQU_IO_CGMA_LIGHT_PEN_CLR         equ 0x03DB
   265                              <2> EQU_IO_CGMA_LIGHT_PEN_PRESET      equ 0x03DC
   266                              <2> EQU_IO_CGMA_CRT_PAGE              equ 0x03DF
   267                              <2> 
   268                              <2> ;3E8-3EF COM3 non PS2 UART (Reserved by IBM) (see UART)
   269                              <2> 
   270                              <2> ;FDC 软盘控制器 FDC0
   271                              <2> ;3F0-3F7 Floppy disk controller (except PCjr):
   272                              <2> EQU_IO_FDC0_STATUSA               equ 0x03F0
   273                              <2> EQU_IO_FDC0_STATUSB               equ 0x03F1
   274                              <2> EQU_IO_FDC0_CONTROL               equ 0x03F2
   275                              <2> EQU_IO_FDC0_CONTROLLER_STATUS     equ 0x03F4
   276                              <2> EQU_IO_FDC0_DATA                  equ 0x03F5
   277                              <2> EQU_IO_FDC0_CONTROLLER_DATA2      equ 0x03F6
   278                              <2> EQU_IO_FDC0_DIGITAL_INPUT         equ 0x03F7
   279                              <2> 
   280                              <2> ;AA 第一串口 AA0
   281                              <2> ;3F8-3FF COM1 Primary Asynchronous Adapter (see UART)3F0 Diskette controller status A:
   282                              <2> 
   283                              <2> ;6E2-6E3  AT Data Acquisition Adapter 1
   284                              <2> ;790-793  Cluster Adapter 1
   285                              <2> ;AE2-AE3  AT Data Acquisition Adapter 2
   286                              <2> ;B90-B93  Cluster Adapter 2
   287                              <2> ;EE2-EE3  AT Data Acquisition Adapter 3
   288                              <2> ;B90-B93  Cluster Adapter 3
   289                              <2> ;22E1    AT GPIB Adapter 1
   290                              <2> ;2390-2393 Cluster Adapter 4
   291                              <2> ;42E1    AT GPIB Adapter 2
   292                              <2> ;3220    Serial Port COM3:   PS/2 Asychronous Adaptor
   293                              <2> ;3228    Serial Port COM4:   PS/2 Asychronous Adaptor
   294                              <2> ;4220    Serial Port COM5:   PS/2 Asychronous Adaptor
   295                              <2> ;4228    Serial Port COM6:   PS/2 Asychronous Adaptor
   296                              <2> ;42E1    AT GPIB Adapter 2
   297                              <2> ;5220    Serial Port COM7:   PS/2 Asychronous Adaptor
   298                              <2> ;5228    Serial Port COM8:   PS/2 Asychronous Adaptor
   299                              <2> ;62E1    AT GPIB Adapter 3
   300                              <2> ;82E1    AT GPIB Adapter 4
   301                              <2> ;A2E1    AT GPIB Adapter 5
   302                              <2> ;C2E1    AT GPIB Adapter 6
   303                              <2> ;E2E1    AT GPIB Adapter 7
     3                                  
     4                                  ;宏
     5                                  %include "include/macro/index.nasm"
     1                              <1> ;宏
     2                              <1> 
     3                              <1> ;通用
     4                              <1> %include "include/macro/lib.nasm"
     5                              <1> 
     6                              <1> ;16位
     7                              <1> %include "include/macro/lib16.nasm"
     8                              <1> 
     9                              <1> ;64位
    10                              <1> %include "include/macro/lib64.nasm"
